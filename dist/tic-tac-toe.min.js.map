{"version":3,"sources":["tic-tac-toe.min.js"],"names":["angular","module","MessageService","this","lossMessages","tieMessages","winMessages","getLossMessage","selectMessage","getTieMessage","getWinMessage","messages","random","Math","round","length","reset","service","$inject","MoveService","Move","where","points","getPoints","getWhere","getMove","NodeService","TicTacToeService","Node","cells","value","move","parent","children","expand","availableMoves","getAvailableMoves","grandChildrenValue","getOtherValue","numberOfAvailableMoves","i","tempCells","copy","newChild","getNode","push","childCount","j","getWinner","getCells","fromParent","count","node","winner","child","OpponentService","$q","TreeService","getTree","tree","makeMove","difficulty","resolve","then","makeHardMove","moves","getMoves","moveCount","best","bestValue","Number","NEGATIVE_INFINITY","candidateValue","makeEasyMove","Tree","parentNode","BoardController","$scope","$watch","onClick","userValue","opponentValue","click","init","controller","directive","controllerAs","restrict","scope","template","TicTacToeController","beginOpponentsTurn","cell","switchTurn","beginUsersTurn","showDialogue","endGame","result","isGameOver","message","wins","losses","ties","select","isUsersTurn","setOrder","floor","fromUser","$","attr","popover","start","restart","resetStats","ScoreboardController","lastResult"],"mappings":"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","file":"tic-tac-toe.min.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular.module('ticTacToe', []);\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'MessageService',\n        MessageService\n    );\n\n    MessageService.$inject = [];\n\n    function MessageService() {\n        var MessageService = this;\n\n        MessageService.lossMessages = [\n            'AW SHUCKS!',\n            'I GOT DISTRACTED...',\n            'HOW IN THE?!',\n            'ARE YOU CHEATING?',\n            'I BET YOU WON\\'T WIN AGAIN.',\n            'WE ALL GET LUCKY.',\n            'DOUBLE OR NOTHING.',\n            'REMATCH?',\n            'BEGINNER\\'S LUCK!'\n        ];\n\n        MessageService.tieMessages = [\n            'CAT!',\n            'WE TIED!',\n            'UGH THIS AGAIN.',\n            'YOU PLAY LIKE A COWARD!',\n            'WE TIED AGAIN!'\n        ];\n\n        MessageService.winMessages = [\n            'HAHA LOSER!',\n            'NEXT!',\n            '*YAWN*',\n            'THAT WAS CUTE.',\n            'IS THAT ALL YOU\\'VE GOT?'\n        ];\n\n        MessageService.getLossMessage = getLossMessage;\n        function getLossMessage() {\n            return MessageService.selectMessage(\n                MessageService.lossMessages\n            );\n        }\n\n        MessageService.getTieMessage = getTieMessage;\n        function getTieMessage() {\n            return MessageService.selectMessage(\n                MessageService.tieMessages\n            );\n        }\n\n        MessageService.getWinMessage = getWinMessage;\n        function getWinMessage() {\n            return MessageService.selectMessage(\n                MessageService.winMessages\n            );\n        }\n\n        MessageService.selectMessage = selectMessage;\n        function selectMessage(messages) {\n            var random = Math.random();\n\n            return messages[\n                Math.round(random * messages.length)\n            ];\n        }\n\n        MessageService.reset = reset;\n        function reset() {\n\n        }\n        \n        MessageService.reset();\n\n        return MessageService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'MoveService',\n        MoveService\n    );\n\n    MoveService.$inject = [];\n\n    function MoveService() {\n        var MoveService = this;\n\n        function Move(where, points) {\n            var Move = this;\n\n            Move.points = points;\n            Move.where = where;\n\n            Move.getPoints = function() {\n                return this.points;\n            };\n\n            Move.getWhere = function() {\n                return this.where;\n            };\n        }\n\n        MoveService.getMove = getMove;\n        function getMove(where, points) {\n            return new Move(where, points);\n        }\n\n        MoveService.reset = reset;\n        function reset() {\n\n        }\n        \n        MoveService.reset();\n\n        return MoveService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'NodeService',\n        NodeService\n    );\n\n    NodeService.$inject = [\n        'TicTacToeService'\n    ];\n\n    function NodeService(\n        TicTacToeService\n    ) {\n        var NodeService = this;\n\n        function Node(cells, value, move, parent) {\n            var Node = this;\n\n            Node.children = [];\n            Node.move = typeof move === 'undefined' ? null : move;\n            Node.parent = typeof parent === 'undefined' ? null : parent;\n            Node.cells = cells;\n            Node.value = value;\n\n            Node.expand = function() {\n                var availableMoves = TicTacToeService.getAvailableMoves(\n                    this.cells\n                );\n\n                var grandChildrenValue = TicTacToeService.getOtherValue(\n                    this.value\n                );\n\n                var numberOfAvailableMoves = availableMoves.length;\n\n                for (var i = 0; i < numberOfAvailableMoves; i++) {\n                    var move = availableMoves[i];\n\n                    var tempCells = angular.copy(this.cells);\n                    tempCells[move] = this.value;\n\n                    var newChild = NodeService.getNode(\n                        tempCells,\n                        grandChildrenValue,\n                        move,\n                        this\n                    );\n\n                    this.children.push(newChild);\n                }\n\n                var childCount = this.children.length;\n\n                for (var j = 0; j < childCount; j++) {\n                    var winner = TicTacToeService.getWinner(\n                        this.children[j].getCells()\n                    );\n\n                    if (winner === null) {\n                        this.children[j].expand();\n                    }\n                }\n            };\n\n            Node.fromParent = function() {\n                var count = 0;\n\n                var node = this;\n                var parent = null;\n\n                do {\n                    parent = node.parent;\n                    if (parent !== null) {\n                        count++;\n\n                        node = parent;\n                    }\n                } while (parent !== null);\n\n                return count;\n            };\n\n            Node.getCells = function() {\n                return this.cells;\n            };\n\n            Node.getMove = function() {\n                return this.move;\n            };\n\n            Node.getPoints = function(value) {\n                var points = 0;\n\n                var winner = TicTacToeService.getWinner(\n                    this.getCells()\n                );\n\n                if (winner !== null) {\n                    if (winner === value) {\n                        points = 1;\n                    } else if (winner === TicTacToeService.getOtherValue(value)) {\n                        points = -1;\n                    } else {\n                        points = 0;\n                    }\n\n                    return points;\n                }\n\n                var childCount = this.children.length;\n                for (var i = 0; i < childCount; i++) {\n                    var child = this.children[i];\n\n                    points += child.getPoints(value) / child.fromParent();\n                }\n\n                return points;\n            };\n        }\n\n        NodeService.getNode = getNode;\n        function getNode(cells, value, move, parent) {\n            return new Node(cells, value, move, parent);\n        }\n\n        NodeService.reset = reset;\n        function reset() {\n\n        }\n        \n        NodeService.reset();\n\n        return NodeService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'OpponentService',\n        OpponentService\n    );\n\n    OpponentService.$inject = [\n        '$q',\n        'TreeService'\n    ];\n\n    function OpponentService(\n        $q,\n        TreeService\n    ) {\n        var OpponentService = this;\n\n        OpponentService.getTree = getTree;\n        function getTree() {\n            return OpponentService.tree;\n        }\n        \n        OpponentService.makeMove = makeMove;\n        function makeMove(value, cells, difficulty) {\n            return $q.resolve().then(\n                function() {\n                    // if (typeof difficulty === 'undefined' || difficulty === 'easy') {\n                    //     return OpponentService.makeEasyMove(value, cells);\n                    // } else if (difficulty === 'hard') {\n                        return OpponentService.makeHardMove(value, cells);\n                    // }\n                }\n            );\n        }\n\n        OpponentService.makeHardMove = makeHardMove;\n        function makeHardMove(value, cells) {\n            OpponentService.tree = TreeService.getTree(cells, value);\n\n            OpponentService.tree.expand();\n\n            var moves = OpponentService.tree.getMoves();\n            var moveCount = moves.length;\n\n            var best = null;\n            var bestValue = Number.NEGATIVE_INFINITY;\n\n            for (var i = 0; i < moveCount; i++) {\n                var move = moves[i];\n\n                var candidateValue = move.getPoints();\n                if (candidateValue > bestValue) {\n                    best = move.getWhere();\n                    bestValue = move.getPoints();\n                }\n            }\n\n            return best;\n        }\n\n        OpponentService.makeEasyMove = makeEasyMove;\n        function makeEasyMove(value, cells) {\n            do {\n                var random = Math.round(Math.random() * 9);\n\n                if (cells[random] === -1 && cells[random] !== value) {\n                    return random;\n                }\n            } while (true);\n        }\n\n        OpponentService.reset = reset;\n        function reset() {\n            OpponentService.tree = {};\n        }\n        \n        OpponentService.reset();\n\n        return OpponentService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'TicTacToeService',\n        TicTacToeService\n    );\n\n    TicTacToeService.$inject = [];\n\n    function TicTacToeService() {\n        var TicTacToeService = this;\n\n        TicTacToeService.getAvailableMoves = getAvailableMoves;\n        function getAvailableMoves(cells) {\n            var availableMoves = [];\n\n            for (var i = 0; i < 9; i++) {\n                if (cells[i] === -1) {\n                    availableMoves.push(i);\n                }\n            }\n\n            return availableMoves;\n        }\n\n        TicTacToeService.getWinner = getWinner;\n        function getWinner(cells) {\n            // Horizontal\n            if (cells[0] !== -1 && cells[0] === cells[1] && cells[1] === cells[2]) {\n                return cells[0];\n            } else if (cells[3] !== -1 && cells[3] === cells[4] && cells[4] === cells[5]) {\n                return cells[3];\n            } else if (cells[6] !== -1 && cells[6] === cells[7] && cells[7] === cells[8]) {\n                return cells[6];\n            }\n\n            // Vertical\n            if (cells[0] !== -1 && cells[0] === cells[3] && cells[3] === cells[6]) {\n                return cells[0];\n            } else if (cells[1] !== -1 && cells[1] === cells[4] && cells[4] === cells[7]) {\n                return cells[1];\n            } else if (cells[2] !== -1 && cells[2] === cells[5] && cells[5] === cells[8]) {\n                return cells[2];\n            }\n\n            // Diagonal\n            if (cells[0] !== -1 && cells[0] === cells[4] && cells[4] === cells[8]) {\n                return cells[0];\n            } else if (cells[2] !== -1 && cells[2] === cells[4] && cells[4] === cells[6]) {\n                return cells[2];\n            }\n\n            for (var i = 0; i < 9; i++) {\n                if (cells[i] === -1) {\n                    return null;\n                }\n            }\n\n            return -1;\n        }\n\n        TicTacToeService.getOtherValue = getOtherValue;\n        function getOtherValue(value) {\n            return value === 1 ? 0 : 1;\n        }\n\n        TicTacToeService.reset = reset;\n        function reset() {\n\n        }\n        \n        TicTacToeService.reset();\n\n        return TicTacToeService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').service(\n        'TreeService',\n        TreeService\n    );\n\n    TreeService.$inject = [\n        'MoveService',\n        'NodeService'\n    ];\n\n    function TreeService(\n        MoveService,\n        NodeService\n    ) {\n        var TreeService = this;\n\n        function Tree(cells, value) {\n            var Tree = this;\n\n            Tree.parentNode = NodeService.getNode(cells, value);\n\n            Tree.expand = function() {\n                Tree.parentNode.expand();\n            };\n            \n            Tree.getMoves = function() {\n                var moves = [];\n                \n                var childCount = this.parentNode.children.length;\n                \n                for (var i = 0; i < childCount; i++) {\n                    var child = this.parentNode.children[i];\n                    \n                    var points = child.getPoints(\n                        this.parentNode.value\n                    );\n                    \n                    var move = MoveService.getMove(\n                        child.getMove(),\n                        points\n                    );\n                    \n                    moves.push(move);\n                }\n\n                return moves;\n            };\n        }\n\n        TreeService.getTree = getTree;\n        function getTree(cells, value) {\n            return new Tree(cells, value);\n        }\n\n        TreeService.reset = reset;\n        function reset() {\n\n        }\n        \n        TreeService.reset();\n\n        return TreeService;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').controller(\n        'BoardController',\n        BoardController\n    );\n\n    BoardController.$inject = [\n        'OpponentService',\n        '$scope',\n        'TicTacToeService'\n    ];\n\n    function BoardController(\n        OpponentService,\n        $scope,\n        TicTacToeService\n    ) {\n        var BoardController = this;\n\n        $scope.$watch(\n            'cells',\n            function(cells) {\n                BoardController.cells = cells;\n            }\n        );\n\n        $scope.$watch(\n            'onClick',\n            function(onClick) {\n                BoardController.onClick = onClick;\n            }\n        );\n\n        $scope.$watch(\n            'userValue',\n            function(userValue) {\n                BoardController.opponentValue = TicTacToeService.getOtherValue(\n                    userValue\n                );\n\n                BoardController.userValue = userValue;\n            }\n        );\n\n        BoardController.click = click;\n        function click(where) {\n            BoardController.onClick(where);\n        }\n\n        BoardController.reset = reset;\n        function reset() {\n\n        }\n\n        BoardController.init = init;\n        function init() {\n            BoardController.reset();\n        }\n\n        BoardController.init();\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').directive(\n        'board',\n        board\n    );\n\n    function board() {\n        return {\n            controller:   'BoardController',\n            controllerAs: 'ctrl',\n            restrict:     'E',\n            scope:        {\n                cells:     '=',\n                onClick:   '=',\n                userValue: '='\n            },\n            template:'<div class=\"board row animated zoomIn\"><div data-ng-repeat=\"cell in ctrl.cells track by $index\" class=\"col-4 cell\" data-ng-class=\"{ \\'empty-cell\\': cell === -1, \\'animated fadeIn\\': cell !== -1, \\'opponent-x-cell\\': cell === 0 && ctrl.opponentValue === 0, \\'opponent-o-cell\\': cell === 1 && ctrl.opponentValue === 1, \\'user-x-cell\\': cell === 0 && ctrl.userValue === 0, \\'user-o-cell\\': cell === 1 && ctrl.userValue === 1 }\" data-ng-click=\"ctrl.click($index)\"></div></div>'\n        };\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').controller(\n        'TicTacToeController',\n        TicTacToeController\n    );\n\n    TicTacToeController.$inject = [\n        'MessageService',\n        'OpponentService',\n        'TicTacToeService'\n    ];\n\n    function TicTacToeController(\n        MessageService,\n        OpponentService,\n        TicTacToeService\n    ) {\n        var TicTacToeController = this;\n\n        TicTacToeController.beginOpponentsTurn = beginOpponentsTurn;\n        function beginOpponentsTurn() {\n            return OpponentService.makeMove(\n                TicTacToeController.opponentValue,\n                TicTacToeController.cells\n            ).then(\n                function(cell) {\n                    if (cell !== null) {\n                        TicTacToeController.cells[cell] = TicTacToeController.opponentValue;\n\n                        TicTacToeController.switchTurn();\n                    }\n                }\n            );\n        }\n\n        TicTacToeController.beginUsersTurn = beginUsersTurn;\n        function beginUsersTurn() {\n            TicTacToeController.showDialogue(\n                false,\n                'IT IS YOUR TURN.'\n            );\n        }\n\n        TicTacToeController.endGame = endGame;\n        function endGame(result) {\n            if (!TicTacToeController.isGameOver) {\n                TicTacToeController.isGameOver = true;\n\n                var message = '';\n\n                if (result === true) {\n                    TicTacToeController.wins++;\n\n                    message = MessageService.getLossMessage();\n                } else if (result === false) {\n                    TicTacToeController.losses++;\n\n                    message = MessageService.getWinMessage();\n                } else {\n                    TicTacToeController.ties++;\n\n                    message = MessageService.getTieMessage();\n                }\n\n                TicTacToeController.showDialogue(\n                    false,\n                    message\n                );\n            }\n        }\n\n        TicTacToeController.select = select;\n        function select(cell) {\n            if (TicTacToeController.isGameOver) {\n                TicTacToeController.showDialogue(\n                    false,\n                    'THE GAME IS ALREADY OVER.'\n                );\n            } else if (TicTacToeController.isUsersTurn) {\n                if (TicTacToeController.cells[cell] === -1) {\n                    TicTacToeController.cells[cell] = TicTacToeController.userValue;\n\n                    TicTacToeController.switchTurn();\n                } else {\n                    TicTacToeController.showDialogue(\n                        false,\n                        'YOU CANNOT GO THERE!'\n                    );\n                }\n            } else {\n                TicTacToeController.showDialogue(\n                    false,\n                    'SIMMER DOWN! IT\\'S MY TURN STILL!'\n                );\n            }\n        }\n\n        TicTacToeController.setOrder = setOrder;\n        function setOrder() {\n            var random = Math.floor(Math.random() * 100);\n            if (random % 2 === 0) {\n                TicTacToeController.opponentValue = 0;\n                TicTacToeController.userValue = 1;\n                TicTacToeController.isUsersTurn = true;\n            } else {\n                TicTacToeController.opponentValue = 1;\n                TicTacToeController.userValue = 0;\n                TicTacToeController.isUsersTurn = false;\n            }\n        }\n\n        TicTacToeController.showDialogue = showDialogue;\n        function showDialogue(fromUser, message) {\n            var selector = fromUser ? '.user' : '.opponent';\n\n            $(selector).attr('data-content', message).popover('show');\n        }\n\n        TicTacToeController.start = start;\n        function start() {\n            TicTacToeController.setOrder();\n\n            if (TicTacToeController.isUsersTurn) {\n                TicTacToeController.beginUsersTurn();\n            } else {\n                TicTacToeController.beginOpponentsTurn();\n            }\n        }\n\n        TicTacToeController.switchTurn = switchTurn;\n        function switchTurn() {\n            var winner = TicTacToeService.getWinner(\n                TicTacToeController.cells\n            );\n\n            if (winner === TicTacToeController.opponentValue) {\n                TicTacToeController.endGame(false);\n            } else if (winner === TicTacToeController.userValue) {\n                TicTacToeController.endGame(true);\n            } else if (winner === -1) {\n                TicTacToeController.endGame(null);\n            } else {\n                TicTacToeController.isUsersTurn = !TicTacToeController.isUsersTurn;\n\n                if (TicTacToeController.isUsersTurn) {\n                    TicTacToeController.beginUsersTurn();\n                } else {\n                    TicTacToeController.beginOpponentsTurn();\n                }\n            }\n        }\n\n        TicTacToeController.restart = restart;\n        function restart() {\n            TicTacToeController.reset();\n            TicTacToeController.start();\n        }\n\n        TicTacToeController.reset = reset;\n        function reset() {\n            TicTacToeController.cells = [\n                -1, -1, -1,\n                -1, -1, -1,\n                -1, -1, -1\n            ];\n\n            TicTacToeController.isGameOver = false;\n\n            TicTacToeController.opponentValue = 1;\n\n            TicTacToeController.userValue = 0;\n\n            TicTacToeController.isUsersTurn = false;\n        }\n\n        TicTacToeController.resetStats = resetStats;\n        function resetStats() {\n            TicTacToeController.losses = 0;\n\n            TicTacToeController.ties = 0;\n\n            TicTacToeController.wins = 0;\n        }\n\n        TicTacToeController.init = init;\n        function init() {\n            TicTacToeController.reset();\n            TicTacToeController.resetStats();\n\n            TicTacToeController.start();\n        }\n\n        TicTacToeController.init();\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').directive(\n        'ticTacToe',\n        ticTacToe\n    );\n\n    function ticTacToe() {\n        return {\n            controller:   'TicTacToeController',\n            controllerAs: 'ctrl',\n            restrict:     'E',\n            scope:        {},\n            template:'<div class=\"global\"><div class=\"players row\"><a class=\"user col-6 animated bounceInLeft\" tabindex=\"0\" data-content data-placement=\"right\" data-toggle=\"popover\" data-trigger=\"focus\"><img src=\"img/user.png\"></a> <a class=\"opponent col-6 animated bounceInRight\" tabindex=\"1\" data-content data-placement=\"left\" data-toggle=\"popover\" data-trigger=\"focus\"><img src=\"img/opponent.png\"></a></div><scoreboard is-game-over=\"ctrl.isGameOver\" losses=\"ctrl.losses\" ties=\"ctrl.ties\" wins=\"ctrl.wins\"></scoreboard><div data-ng-if=\"ctrl.isGameOver\" class=\"row animated fadeInDown\"><button class=\"btn btn-primary btn-lg btn-block\" data-ng-click=\"ctrl.restart()\">PLAY AGAIN</button></div><board cells=\"ctrl.cells\" on-click=\"ctrl.select\" user-value=\"ctrl.userValue\"></board></div>'\n        };\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').controller(\n        'ScoreboardController',\n        ScoreboardController\n    );\n\n    ScoreboardController.$inject = [\n        '$scope'\n    ];\n\n    function ScoreboardController(\n        $scope\n    ) {\n        var ScoreboardController = this;\n\n        $scope.$watch(\n            'isGameOver',\n            function(isGameOver) {\n                ScoreboardController.isGameOver = isGameOver;\n            }\n        );\n\n        $scope.$watch(\n            'losses',\n            function(losses) {\n                if (ScoreboardController.losses < losses) {\n                    ScoreboardController.lastResult = false;\n                }\n\n                ScoreboardController.losses = losses;\n            }\n        );\n\n        $scope.$watch(\n            'ties',\n            function(ties) {\n                if (ScoreboardController.ties < ties) {\n                    ScoreboardController.lastResult = null;\n                }\n\n                ScoreboardController.ties = ties;\n            }\n        );\n\n        $scope.$watch(\n            'wins',\n            function(wins) {\n                if (ScoreboardController.wins < wins) {\n                    ScoreboardController.lastResult = true;\n                }\n\n                ScoreboardController.wins = wins;\n            }\n        );\n\n        ScoreboardController.reset = reset;\n        function reset() {\n\n        }\n\n        ScoreboardController.init = init;\n        function init() {\n            ScoreboardController.reset();\n        }\n\n        ScoreboardController.init();\n    }\n})();\n(function() {\n    'use strict';\n\n    angular.module('ticTacToe').directive(\n        'scoreboard',\n        scoreboard\n    );\n\n    function scoreboard() {\n        return {\n            controller:   'ScoreboardController',\n            controllerAs: 'ctrl',\n            restrict:     'E',\n            scope:        {\n                isGameOver: '=',\n                losses:     '=',\n                ties:       '=',\n                wins:       '='\n            },\n            template:'<div class=\"row\"><div class=\"col text-center animated jackInTheBox\" data-ng-class=\"{ \\'animated flip\\': ctrl.isGameOver && ctrl.lastResult === true }\"><h3>WINS</h3><p>{{ ctrl.wins }}</p></div><div class=\"col text-center animated jackInTheBox\" data-ng-class=\"{ \\'animated flip\\': ctrl.isGameOver && ctrl.lastResult === null }\"><h3>TIES</h3><p>{{ ctrl.ties }}</p></div><div class=\"col text-center animated jackInTheBox\" data-ng-class=\"{ \\'animated flip\\': ctrl.isGameOver && ctrl.lastResult === false }\"><h3>LOSSES</h3><p>{{ ctrl.losses }}</p></div></div>'\n        };\n    }\n})();"]}