!function(){"use strict";angular.module("ticTacToe",[])}(),function(){"use strict";function e(){var e=this;function n(e,t){var n=this;n.points=t,n.where=e,n.getPoints=function(){return this.points},n.getWhere=function(){return this.where}}return e.getMove=function(e,t){return new n(e,t)},e.reset=function(){},e.reset(),e}angular.module("ticTacToe").service("MoveService",e),e.$inject=[]}(),function(){"use strict";function e(a){var l=this;function i(e,t,n,r){var i=this;i.children=[],i.move=void 0===n?null:n,i.parent=void 0===r?null:r,i.cells=e,i.value=t,i.expand=function(){for(var e=a.getAvailableMoves(this.cells),t=a.getOtherValue(this.value),n=e.length,r=0;r<n;r++){var i=e[r],s=angular.copy(this.cells);s[i]=t;var o=l.getNode(s,t,i,this);this.children.push(o)}for(var c=this.children.length,u=0;u<c;u++){null===a.getWinner(this.children[u].getCells())&&this.children[u].expand()}},i.getCells=function(){return this.cells},i.getMove=function(){return this.move},i.getPoints=function(e){var t=0,n=a.getWinner(this.getCells());if(null!==n)return t=n===e?1:n===a.getOtherValue(e)?-1:0;for(var r=this.children.length,i=0;i<r;i++){t+=this.children[i].getPoints(e)}return t}}return l.getNode=function(e,t,n,r){return new i(e,t,n,r)},l.reset=function(){},l.reset(),l}angular.module("ticTacToe").service("NodeService",e),e.$inject=["TicTacToeService"]}(),function(){"use strict";function e(r,l){var i=this;return i.makeMove=function(e,t,n){return r.resolve().then(function(){return i.makeHardMove(e,t)})},i.makeHardMove=function(e,t){var n=l.getTree(t,e);n.expand();for(var r=n.getMoves(),i=r.length,s=null,o=Number.NEGATIVE_INFINITY,c=0;c<i;c++){var u=r[c],a=u.getPoints();o<a&&(s=u.getWhere(),o=u.getPoints())}return s},i.makeEasyMove=function(e,t){for(;;){var n=Math.round(9*Math.random());if(-1===t[n]&&t[n]!==e)return n}},i.reset=function(){},i.reset(),i}angular.module("ticTacToe").service("OpponentService",e),e.$inject=["$q","TreeService"]}(),function(){"use strict";function e(){var e=this;return e.getAvailableMoves=function(e){for(var t=[],n=0;n<9;n++)-1===e[n]&&t.push(n);return t},e.getWinner=function(e){{if(-1!==e[0]&&e[0]===e[1]&&e[1]===e[2])return e[0];if(-1!==e[3]&&e[3]===e[4]&&e[4]===e[5])return e[3];if(-1!==e[6]&&e[6]===e[7]&&e[7]===e[8])return e[6]}{if(-1!==e[0]&&e[0]===e[3]&&e[3]===e[6])return e[0];if(-1!==e[1]&&e[1]===e[4]&&e[4]===e[7])return e[1];if(-1!==e[2]&&e[2]===e[5]&&e[5]===e[8])return e[2]}{if(-1!==e[0]&&e[0]===e[4]&&e[4]===e[8])return e[0];if(-1!==e[2]&&e[2]===e[4]&&e[4]===e[6])return e[2]}for(var t=0;t<9;t++)if(-1===e[t])return null;return-1},e.getOtherValue=function(e){return 1===e?0:1},e.reset=function(){},e.reset(),e}angular.module("ticTacToe").service("TicTacToeService",e),e.$inject=[]}(),function(){"use strict";function e(o,r){function n(e,t){var n=this;n.parentNode=r.getNode(e,t),n.expand=function(){n.parentNode.expand()},n.getMoves=function(){for(var e=[],t=this.parentNode.children.length,n=0;n<t;n++){var r=this.parentNode.children[n],i=r.getPoints(this.parentNode.value),s=o.getMove(r.getMove(),i);e.push(s)}return e}}return this.getTree=function(e,t){return new n(e,t)},this.reset=function(){},this.reset(),this}angular.module("ticTacToe").service("TreeService",e),e.$inject=["MoveService","NodeService"]}(),function(){"use strict";function e(e,t){var n=this;n.beginOpponentsTurn=function(){return e.makeMove(n.opponenentValue,n.cells).then(function(e){null!==e&&(n.cells[e]=n.opponenentValue,n.switchTurn())})},n.beginUsersTurn=function(){n.showMessage(!1,"IT IS YOUR TURN.")},n.select=function(e){n.isGameOver?n.showMessage(!1,"THE GAME IS ALREADY OVER."):n.isUsersTurn?-1===n.cells[e]?(n.cells[e]=n.userValue,n.switchTurn()):n.showMessage(!1,"YOU CANNOT GO THERE!"):n.showMessage(!1,"SIMMER DOWN! IT'S MY TURN STILL!")},n.setOrder=function(){Math.floor(100*Math.random())%2==0?(n.opponenentValue=0,n.userValue=1,n.isUsersTurn=!0):(n.opponenentValue=1,n.userValue=0,n.isUsersTurn=!1)},n.showMessage=function(e,t){$(e?".user":".opponent").attr("data-content",t).popover("show")},n.start=function(){n.setOrder(),n.isUsersTurn?n.beginUsersTurn():n.beginOpponentsTurn()},n.switchTurn=function(){var e=t.getWinner(n.cells);e===n.opponenentValue?(n.isGameOver=!0,n.showMessage(!1,"HAHA LOSER.")):e===n.userValue?(n.isGameOver=!0,n.showMessage(!1,"GOOD JOB.")):-1===e?(n.isGameOver=!0,n.showMessage(!1,"WE TIED."),n.showMessage(!0,"WE TIED.")):(n.isUsersTurn=!n.isUsersTurn,n.isUsersTurn?n.beginUsersTurn():n.beginOpponentsTurn())},n.reset=function(){n.cells=[-1,-1,-1,-1,-1,-1,-1,-1,-1],n.isGameOver=!1,n.opponenentValue=1,n.stats=!1,n.userValue=0,n.isUsersTurn=!1},n.init=function(){n.reset(),n.start()},n.init()}angular.module("ticTacToe").controller("TicTacToeController",e),e.$inject=["OpponentService","TicTacToeService"]}(),function(){"use strict";angular.module("ticTacToe").directive("ticTacToe",function(){return{controller:"TicTacToeController",controllerAs:"ctrl",restrict:"E",scope:{},template:'<div class="global"><div class="players row"><a class="opponent col-6" tabindex="0" data-content data-placement="right" data-toggle="popover" data-trigger="focus"><img src="img/opponent.png"></a> <a class="user col-6" tabindex="1" data-content data-placement="left" data-toggle="popover" data-trigger="focus"><img src="img/user.png"></a></div><div class="board row"><div data-ng-repeat="cell in ctrl.cells track by $index" class="col-4 cell" data-ng-class="{ \'empty-cell\': cell === -1, \'opponent-x-cell\': cell === 0 && ctrl.opponenentValue === 0, \'opponent-o-cell\': cell === 1 && ctrl.opponenentValue === 1, \'user-x-cell\': cell === 0 && ctrl.userValue === 0, \'user-o-cell\': cell === 1 && ctrl.userValue === 1 }" data-ng-click="ctrl.select($index)"></div></div></div>'}})}();
//# sourceMappingURL=tic-tac-toe.min.js.map
