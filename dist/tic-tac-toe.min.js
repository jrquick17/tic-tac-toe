!function(){"use strict";angular.module("ticTacToe",[])}(),function(){"use strict";function e(t){var i=this;return i.getAvailableMoves=function(e){for(var n=[],r=0;r<9;r++)-1===e[r]&&n.push(r);return n},i.getWinner=function(n){return t.resolve().then(function(){if(-1!==n[0]&&n[0]===n[1]&&n[1]===n[2])return n[0];if(-1!==n[3]&&n[3]===n[4]&&n[4]===n[5])return n[3];if(-1!==n[6]&&n[6]===n[7]&&n[7]===n[8])return n[6];if(-1!==n[0]&&n[0]===n[3]&&n[3]===n[6])return n[0];if(-1!==n[1]&&n[1]===n[4]&&n[4]===n[7])return n[1];if(-1!==n[2]&&n[2]===n[5]&&n[5]===n[8])return n[2];if(-1!==n[0]&&n[0]===n[4]&&n[4]===n[8])return n[0];if(-1!==n[2]&&n[2]===n[4]&&n[4]===n[6])return n[2];for(var e=0;e<9;e++)if(-1===n[e])return null;return-1})},i.makeMove=function(e,n,r){return t.resolve().then(function(){return i.makeHardMove(e,n)})},i.makeHardMove=function(e,n){var r=[{move:null,parent:null,points:null,cells:n,value:e}];i.expandTree(r)},i.getChildren=function(e){for(var n=i.getAvailableMoves(e.cells),r=n.length,t=i.getOtherValue(e.value),s=0;s<r;s++){var l=n[s],o=angular.copy(e.cells);o[l]=t;var a=0,c=i.getWinner(o);return c!==t&&-1!==c||(a=1),{children:[],move:l,parent:e,points:a,cells:o,value:t}}},i.getOtherValue=function(e){return 1===e?0:1},i.expandTree=function(e){for(var n=e.length,r=0;r<n;r++)for(var t=e[r],s=t.children,l=s.length,o=0;o<l;o++){var a=t.children[o];a.children=i.getChildren(a)}return e},i.makeEasyMove=function(e,n){for(;;){var r=Math.round(9*Math.random());if(-1===n[r]&&n[r]!==e)return r}},i.reset=function(){},i.reset(),i}angular.module("ticTacToe").service("TicTacToeService",e),e.$inject=["$q"]}(),function(){"use strict";function e(e){var n=this;n.beginOpponentsTurn=function(){return e.makeMove(n.opponenentValue,n.cells).then(function(e){null!==e&&(n.cells[e]=n.opponenentValue,n.switchTurn())})},n.beginUsersTurn=function(){n.showMessage(!1,"IT IS YOUR TURN.")},n.select=function(e){n.isGameOver?n.showMessage(!1,"THE GAME IS ALREADY OVER."):n.isUsersTurn?-1===n.cells[e]?(n.cells[e]=n.userValue,n.switchTurn()):n.showMessage(!1,"YOU CANNOT GO THERE!"):n.showMessage(!1,"SIMMER DOWN! IT'S MY TURN STILL!")},n.setOrder=function(){Math.floor(100*Math.random())%2==0?(n.opponenentValue=0,n.userValue=1,n.isUsersTurn=!0):(n.opponenentValue=1,n.userValue=0,n.isUsersTurn=!1)},n.showMessage=function(e,n){$(e?".user":".opponent").attr("data-content",n).popover("show")},n.start=function(){n.setOrder(),n.isUsersTurn?n.beginUsersTurn():n.beginOpponentsTurn()},n.switchTurn=function(){e.getWinner(n.cells).then(function(e){e===n.opponenentValue?(n.isGameOver=!0,n.showMessage(!1,"HAHA LOSER.")):e===n.userValue?(n.isGameOver=!0,n.showMessage(!1,"GOOD JOB.")):-1===e?(n.isGameOver=!0,n.showMessage(!1,"WE TIED."),n.showMessage(!0,"WE TIED.")):(n.isUsersTurn=!n.isUsersTurn,n.isUsersTurn?n.beginUsersTurn():n.beginOpponentsTurn())})},n.reset=function(){n.cells=[-1,-1,-1,-1,-1,-1,-1,-1,-1],n.isGameOver=!1,n.opponenentValue=1,n.stats=!1,n.userValue=0,n.isUsersTurn=!1},n.init=function(){n.reset(),n.start()},n.init()}angular.module("ticTacToe").controller("TicTacToeController",e),e.$inject=["TicTacToeService"]}(),function(){"use strict";angular.module("ticTacToe").directive("ticTacToe",function(){return{controller:"TicTacToeController",controllerAs:"ctrl",restrict:"E",scope:{},template:'<div class="global"><div class="players row"><a class="opponent col-6" tabindex="0" data-content data-placement="right" data-toggle="popover" data-trigger="focus"><img src="img/opponent.png"></a> <a class="user col-6" tabindex="1" data-content data-placement="left" data-toggle="popover" data-trigger="focus"><img src="img/user.png"></a></div><div class="board row"><div data-ng-repeat="cell in ctrl.cells track by $index" class="col-4 cell" data-ng-class="{ \'empty-cell\': cell === -1, \'opponent-x-cell\': cell === 0 && ctrl.opponenentValue === 0, \'opponent-o-cell\': cell === 1 && ctrl.opponenentValue === 1, \'user-x-cell\': cell === 0 && ctrl.userValue === 0, \'user-o-cell\': cell === 1 && ctrl.userValue === 1 }" data-ng-click="ctrl.select($index)"></div></div></div>'}})}();
//# sourceMappingURL=tic-tac-toe.min.js.map
